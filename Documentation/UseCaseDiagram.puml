@startuml OpenAutomate Use Case Diagram
!pragma layout smetana
top to bottom direction

' Define human actors only
actor "Admin" as Admin
actor "Tenant Admin" as TenantAdmin
actor "Business User" as BusinessUser
actor "Automation Developer" as Developer

' Define user inheritance
Admin -|> TenantAdmin
TenantAdmin -|> BusinessUser
TenantAdmin -|> Developer

' Define system boundary (use case subject)
rectangle "OpenAutomate Platform" {
  ' Define package boundaries
  package "Authentication & User Management" {
    usecase "Register" as UC_Register
    usecase "Login" as UC_Login
    usecase "Manage Users" as UC_ManageUsers
    usecase "Manage User Roles" as UC_ManageRoles
    usecase "Logout" as UC_Logout
    usecase "Refresh Token" as UC_RefreshToken
  }
  
  package "Organization Management" {
    usecase "Create Organization" as UC_CreateOrg
    usecase "Update Organization" as UC_UpdateOrg
    usecase "View Organizations" as UC_ViewOrgs
    usecase "Deactivate Organization" as UC_DeactivateOrg
    usecase "Add Users to Organization" as UC_AddOrgUsers
    usecase "Remove Users from Organization" as UC_RemoveOrgUsers
  }
  
  package "Bot Agent Management" {
    usecase "Register Bot Agent" as UC_RegisterAgent
    usecase "Update Bot Agent" as UC_UpdateAgent
    usecase "View Bot Agents" as UC_ViewAgents
    usecase "Delete Bot Agent" as UC_DeleteAgent
  }
  
  package "Automation Package Management" {
    usecase "Create Automation Package" as UC_CreatePackage
    usecase "Update Automation Package" as UC_UpdatePackage
    usecase "View Automation Packages" as UC_ViewPackages
    usecase "Delete Automation Package" as UC_DeletePackage
    usecase "Add Package Version" as UC_AddPackageVersion
    usecase "View Package Versions" as UC_ViewPackageVersions
  }
  
  package "Execution Management" {
    usecase "Trigger Execution" as UC_TriggerExecution
    usecase "View Executions" as UC_ViewExecutions
    usecase "View Execution Details" as UC_ViewExecutionDetails
    usecase "View Execution Logs" as UC_ViewExecutionLogs
  }
  
  package "Schedule Management" {
    usecase "Create Schedule" as UC_CreateSchedule
    usecase "Update Schedule" as UC_UpdateSchedule
    usecase "View Schedules" as UC_ViewSchedules
    usecase "Delete Schedule" as UC_DeleteSchedule
  }
  
  package "Multi-tenant Operations" {
    usecase "Switch Between Tenants" as UC_SwitchTenants
    usecase "View All Tenants" as UC_ViewAllTenants
    usecase "Manage Cross-tenant Operations" as UC_ManageCrossTenant
  }
}

' Authentication & User Management
BusinessUser --> UC_Register
BusinessUser --> UC_Login
BusinessUser --> UC_Logout
BusinessUser --> UC_RefreshToken
Developer --> UC_Register
Developer --> UC_Login
Developer --> UC_Logout
Developer --> UC_RefreshToken
TenantAdmin --> UC_ManageUsers
Admin --> UC_ManageRoles

' Organization Management
TenantAdmin --> UC_CreateOrg
TenantAdmin --> UC_UpdateOrg
BusinessUser --> UC_ViewOrgs
Developer --> UC_ViewOrgs
TenantAdmin --> UC_DeactivateOrg
TenantAdmin --> UC_AddOrgUsers
TenantAdmin --> UC_RemoveOrgUsers

' Bot Agent Management
Developer --> UC_RegisterAgent
Developer --> UC_UpdateAgent
Developer --> UC_ViewAgents
Developer --> UC_DeleteAgent
BusinessUser --> UC_ViewAgents

' Automation Package Management
Developer --> UC_CreatePackage
Developer --> UC_UpdatePackage
Developer --> UC_ViewPackages
Developer --> UC_DeletePackage
Developer --> UC_AddPackageVersion
Developer --> UC_ViewPackageVersions
BusinessUser --> UC_ViewPackages
BusinessUser --> UC_ViewPackageVersions

' Execution Management
BusinessUser --> UC_TriggerExecution
Developer --> UC_TriggerExecution
BusinessUser --> UC_ViewExecutions
Developer --> UC_ViewExecutions
BusinessUser --> UC_ViewExecutionDetails
Developer --> UC_ViewExecutionDetails
BusinessUser --> UC_ViewExecutionLogs
Developer --> UC_ViewExecutionLogs

' Schedule Management
BusinessUser --> UC_CreateSchedule
BusinessUser --> UC_UpdateSchedule
BusinessUser --> UC_ViewSchedules
BusinessUser --> UC_DeleteSchedule
Developer --> UC_ViewSchedules

' Multi-tenant Operations
BusinessUser --> UC_SwitchTenants
Developer --> UC_SwitchTenants
Admin --> UC_ViewAllTenants
Admin --> UC_ManageCrossTenant

' Dependencies and extensions
UC_Login ..> UC_RefreshToken : <<includes>>
UC_ViewExecutionDetails ..> UC_ViewExecutionLogs : <<includes>>
UC_CreateOrg ..> UC_AddOrgUsers : <<includes>>

@enduml 